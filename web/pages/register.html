<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription - BilletTigue</title>
    <!-- Les liens CSS doivent pointer vers la racine du site -->
    <link href="../public/assets/css/style.css" rel="stylesheet">
    <link href="../public/assets/css/auth.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Ajout du CDN Remix Icon pour harmonisation -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body class="min-h-screen bg-custom">
    <header>
        <!-- Container pour centrer la topbar -->
        <div class="w-full flex justify-center p-4">
            <!-- Topbar avec 95% de largeur -->
            <div class="topbar-container">
                <div class="logo-container w-3/12 h-full">
                    <img src="../public/images/logo/logo.png" alt="BilletTigue Logo" class="logo-image">
                    <span class="logo-text">BilletTigue</span>
                </div>
                <nav class="nav-container w-5/12 h-full">
                    <ul class="nav-list">
                        <li><a href="../index.html" class="nav-link"><i class="ri-home-4-line"></i><span>Accueil</span></a></li>
                        <li><a href="search-trajets.html" class="nav-link"><i class="ri-bus-2-line"></i><span>Trajets</span></a></li>
                        <li><a href="#" class="nav-link"><i class="ri-box-3-line"></i><span>Colis</span></a></li>
                        <li><a href="#" class="nav-link"><i class="ri-question-line"></i><span>Aide</span></a></li>
                    </ul>
                </nav>
                <div class="action-container-wrapper">
                    <!-- Le menu de langue reste identique -->
                    <div class="dropdown dropdown-end dropdown-hover lang-dropdown flex justify-center items-center">
                        <label tabindex="0" class="btn-lang">
                            <span id="current-lang-text" class="lang-text">Français</span>
                            <i class="ri-arrow-down-s-line text-xs lang-arrow"></i>
                            <i class="ri-global-line lang-icon" style="display:none;"></i>
                        </label>
                        <ul id="lang-options" tabindex="0" class="lang-options-list">
                            <li><a class="lang-option text-sm" data-lang-name="Anglais">Anglais</a></li>
                            <li><a class="lang-option text-sm" data-lang-name="Français">Français</a></li>
                        </ul>
                    </div>
                    <div id="auth-section" class="flex items-center">
                        <a href="./login.html" class="btn-login">Se connecter</a>
                    </div>
                    <button id="mobile-hamburger" class="mobile-hamburger" aria-label="Ouvrir le menu" type="button">
                        <span class="hamburger-bar"></span>
                        <span class="hamburger-bar"></span>
                        <span class="hamburger-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="auth-main">
        <div class="auth-card">
            <h2 class="auth-title">Créez votre compte</h2>
            <p class="auth-subtitle">Rejoignez-nous et commencez à réserver en quelques clics.</p>

            <div class="role-selector">
                <input type="radio" id="role-user" name="role" value="user" checked>
                <label for="role-user">Utilisateur</label>
                <input type="radio" id="role-transporter" name="role" value="transporter">
                <label for="role-transporter">Transporteur</label>
            </div>

            <form id="registerForm" class="auth-form">
                <!-- User fields -->
                <div data-role="user" class="flex flex-col gap-6">
                    <div class="form-field">
                        <input type="text" id="last-name" name="last-name" placeholder="Nom" required>
                    </div>
                    <div class="form-field">
                        <input type="text" id="first-name" name="first-name" placeholder="Prénom" required>
                    </div>
                    <div class="form-field">
                        <input type="tel" id="user-phone" name="user-phone" placeholder="Numéro de téléphone" required>
                    </div>
                </div>

                <!-- Transporter fields -->
                <div class="hidden flex-col gap-6" data-role="transporter">
                    <div class="form-field">
                        <input type="text" id="company-name" name="company-name" placeholder="Nom de la compagnie">
                    </div>
                    <div class="form-field">
                        <input type="tel" id="phone-number" name="phone-number" placeholder="Numéro de téléphone">
                    </div>
                    <div class="form-field">
                        <select id="services" name="services">
                            <option value="">Sélectionnez un service</option>
                            <option value="passengers">Transport des passagers</option>
                            <option value="packages">Transport des colis</option>
                        </select>
                    </div>
                </div>
                
                <!-- Common fields -->
                <div class="form-field">
                    <input type="email" id="email" name="email" placeholder="Adresse e-mail" required>
                </div>
                <div class="form-field">
                    <input type="password" id="password" name="password" placeholder="Mot de passe" required>
                    <div id="password-strength"></div>
                    <div class="password-strength-bar">
                        <div class="strength-bar-container">
                            <div id="strength-progress"></div>
                        </div>
                        <div class="strength-criteria">
                            <div class="criteria-item" data-criteria="length">
                                <span class="criteria-icon">○</span>
                                <span>Au moins 8 caractères</span>
                            </div>
                            <div class="criteria-item" data-criteria="lowercase">
                                <span class="criteria-icon">○</span>
                                <span>Une lettre minuscule</span>
                            </div>
                            <div class="criteria-item" data-criteria="uppercase">
                                <span class="criteria-icon">○</span>
                                <span>Une lettre majuscule</span>
                            </div>
                            <div class="criteria-item" data-criteria="number">
                                <span class="criteria-icon">○</span>
                                <span>Un chiffre</span>
                            </div>
                            <div class="criteria-item" data-criteria="special">
                                <span class="criteria-icon">○</span>
                                <span>Un caractère spécial (@$!%*?&)</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-field">
                    <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirmez le mot de passe" required>
                    <div id="password-confirmation"></div>
                </div>
                <button type="submit" class="auth-button">S'inscrire</button>
            </form>
            <p class="auth-footer-link">
                Vous avez déjà un compte ? <a href="#" id="login-link">Connectez-vous</a>
            </p>
        </div>
    </main>

    <!-- Mobile Menu -->
    <nav id="mobile-menu" class="mobile-menu" style="display:none;">
        <ul class="nav-list">
            <li><a href="../index.html" class="nav-link"><i class="fas fa-home"></i><span>Accueil</span></a></li>
            <li><a href="search-trajets.html" class="nav-link"><i class="fas fa-bus"></i><span>Trajets</span></a></li>
            <li><a href="#" class="nav-link"><i class="fas fa-box"></i><span>Colis</span></a></li>
            <li><a href="#" class="nav-link"><i class="fas fa-question-circle"></i><span>Aide</span></a></li>
        </ul>
    </nav>

    <footer>
        <!-- Le pied de page (liens, copyright, etc.) ira ici -->
    </footer>

    <!-- Le script JS doit pointer vers la racine du site -->
    <script src="../src/js/main.js"></script>
    <script type="module" src="../src/js/auth.js"></script>
    
    <script>
    // Logique pour le lien de connexion selon le rôle sélectionné
    document.addEventListener('DOMContentLoaded', function() {
        const loginLink = document.getElementById('login-link');
        const roleUserRadio = document.getElementById('role-user');
        const roleTransporterRadio = document.getElementById('role-transporter');
        
        function updateLoginLink() {
            const selectedRole = roleTransporterRadio && roleTransporterRadio.checked ? 'transporter' : 'user';
            if (loginLink) {
                loginLink.href = `./login.html?role=${selectedRole}`;
            }
        }
        
        // Mettre à jour le lien quand le rôle change
        if (roleUserRadio && roleTransporterRadio) {
            roleUserRadio.addEventListener('change', updateLoginLink);
            roleTransporterRadio.addEventListener('change', updateLoginLink);
        }
        
        // Initialiser avec le rôle par défaut
        updateLoginLink();
    });
    </script>
</body>
</html> 